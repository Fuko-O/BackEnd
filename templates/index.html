<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Copilote Budget</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <div id="login-view" class="login-container">
        <div id="login-form">
            <h1>Connexion</h1>
            <p>Heureux de vous revoir !</p>
            <div class="form-group">
                <input type="email" id="login-email" placeholder="Email" required>
            </div>
            <div class="form-group">
                <input type="password" id="login-password" placeholder="Mot de passe" required>
            </div>
            <div class="button-group">
                <button id="login-btn">Se Connecter</button>
            </div>
            <p class="auth-toggle">Pas de compte ? <a id="show-signup">Inscrivez-vous</a></p>
        </div>
        
        <div id="signup-form" style="display: none;">
            <h1>CrÃ©er un compte</h1>
            <p>Rejoignez-nous en 30 secondes.</p>
            <div class="form-group">
                <input type="email" id="signup-email" placeholder="Email" required>
            </div>
            <div class="form-group">
                <input type="password" id="signup-password" placeholder="Mot de passe" required>
            </div>
            <div class="button-group">
                <button id="signup-btn">S'inscrire</button>
            </div>
            <p class="auth-toggle">DÃ©jÃ  un compte ? <a id="show-login">Connectez-vous</a></p>
        </div>
        <p id="auth-error"></p>
    </div>

    <div id="dashboard-view" style="display: none;">
        <div class="app-container">
            <div id="dashboard-principal" style="display: none;">
                <h2>Votre Reste Ã  DÃ©penser</h2>
                <div class="montant-total" id="reste-total">... â‚¬</div>
                <div class="montant-jour" id="reste-jour">... â‚¬ par jour</div>
            </div>
            <h1>Mon Copilote
                <button id="logout-btn" style="font-size: 12px; padding: 8px; flex: 0.2; background-color: #ff3b30; float: right;">X</button>
            </h1>
            <div id="analyze-section">
                <p>Analyse de vos 3 derniers mois (simulation)...</p>
                <button id="analyze-button">1. Lancer l'analyse IA</button>
            </div>
            <div id="goal-section">
                <label for="savings-goal">ðŸŽ¯ Objectif d'Ã©pargne ce mois-ci ?</label>
                <input type="number" id="savings-goal" placeholder="ex: 100" value="100">
            </div>
            <div class="button-group" id="budget-button-group" style="display: none;">
                <button id="analyze-budget-button">2. CrÃ©er mon budget</button>
            </div>
            <div id="budget-coach" style="display: none;">
                <h3>ðŸš€ La proposition du Coach</h3>
                <div class="coach-message" id="coach-message-text"></div>
                <div id="enveloppes-list"></div>
            </div>
            <hr>
            <h3>Mes DÃ©penses</h3>
            <ul id="transactions-list"></ul>
            <form id="new-transaction-form">
                <h3>Simulateur : Nouvelle dÃ©pense</h3>
                <div>
                    <input type="text" id="new-tx-libelle" placeholder="LibellÃ© (ex: Burger King)" required>
                </div>
                <div>
                    <input type="number" id="new-tx-montant" placeholder="Montant (ex: 25)" step="0.01" required>
                </div>
                <button type="submit">Ajouter & Mettre Ã  jour le budget</button>
            </form>
        </div>
    </div>

    <div id="category-modal-backdrop" class="modal-backdrop">
        <div class="modal-content">
            <h3 id="modal-title">CatÃ©goriser la transaction</h3>
            <p id="modal-tx-libelle">...</p>
            <div id="modal-category-buttons" class="category-grid">
            </div>
            <button id="modal-cancel-btn">Annuler</button>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='app.js') }}" defer></script>

</body>
</html>